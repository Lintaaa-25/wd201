<section class="my-4">
  <h5>Overdue (<span id="count-overdue"><%= overdue.length %></span>)</h5>
  <table class="table-auto w-full" id="overdue-section">
    <% overdue.forEach(todo => { %>
      <tr class="Todo-Item" id="todo-<%= todo.id %>">
        <td>
          <input type="checkbox" class="todo-checkbox" id="check-<%= todo.id %>" data-id="<%= todo.id %>" data-csrf="<%= csrfToken %>" <%= todo.completed ? 'checked' : '' %> >
        </td>
        <td>
          <label for="check-<%= todo.id %>"><%= todo.title %></label>
        </td>
        <td>
          <button class="delete-button text-red-600" data-id="<%= todo.id %>" data-csrf="<%= csrfToken %>">
            🗑️ Delete
          </button>
        </td>
      </tr>
    <% }) %>
  </table>

  <h5>Due Today (<span id="count-due-today"><%= dueToday.length %></span>)</h5>
  <table class="table-auto w-full" id="today-section">
    <% dueToday.forEach(todo => { %>
      <tr class="Todo-Item" id="todo-<%= todo.id %>">
        <td>
          <input type="checkbox" class="todo-checkbox" id="check-<%= todo.id %>" data-id="<%= todo.id %>" data-csrf="<%= csrfToken %>" <%= todo.completed ? 'checked' : '' %> >
        </td>
        <td>
          <label for="check-<%= todo.id %>"><%= todo.title %></label>
        </td>
        <td>
          <button class="delete-button text-red-600" data-id="<%= todo.id %>" data-csrf="<%= csrfToken %>">
            🗑️ Delete
          </button>
        </td>
      </tr>
    <% }) %>
  </table>

  <h5>Due Later (<span id="count-due-later"><%= dueLater.length %></span>)</h5>
  <table class="table-auto w-full" id="later-section">
    <% dueLater.forEach(todo => { %>
      <tr class="Todo-Item" id="todo-<%= todo.id %>">
        <td>
          <input type="checkbox" class="todo-checkbox" id="check-<%= todo.id %>" data-id="<%= todo.id %>" data-csrf="<%= csrfToken %>" <%= todo.completed ? 'checked' : '' %> >
        </td>
        <td>
          <label for="check-<%= todo.id %>"><%= todo.title %></label>
        </td>
        <td>
          <button class="delete-button text-red-600" data-id="<%= todo.id %>" data-csrf="<%= csrfToken %>">
            🗑️ Delete
          </button>
        </td>
      </tr>
    <% }) %>
  </table>

  <h5>Completed (<span id="count-completed"><%= completed.length %></span>)</h5>
  <table class="table-auto w-full" id="completed-section">
    <% completed.forEach(todo => { %>
      <tr class="Todo-Item" id="todo-<%= todo.id %>">
        <td>
          <input type="checkbox" class="todo-checkbox" id="check-<%= todo.id %>" data-id="<%= todo.id %>" data-csrf="<%= csrfToken %>" checked>
        </td>
        <td>
          <label for="check-<%= todo.id %>"><%= todo.title %></label>
        </td>
        <td>
          <button class="delete-button text-red-600" data-id="<%= todo.id %>" data-csrf="<%= csrfToken %>">
            🗑️ Delete
          </button>
        </td>
      </tr>
    <% }) %>
  </table>
</section>

<!-- Add Todo Form -->
<form action="/todos" method="POST" id="add-todo-form">
  <input type="text" name="title" id="todo-title" placeholder="Enter todo title" required>
  <input type="date" name="dueDate" id="todo-due-date" required>
  <button type="submit">Add Todo</button>
</form>
